"use strict";(self.webpackChunk_lage_run_docs=self.webpackChunk_lage_run_docs||[]).push([[342],{5680:(e,a,n)=>{n.d(a,{xA:()=>y,yg:()=>N});var s=n(6540);function t(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function r(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,s)}return n}function l(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?r(Object(n),!0).forEach((function(a){t(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function p(e,a){if(null==e)return{};var n,s,t=function(e,a){if(null==e)return{};var n,s,t={},r=Object.keys(e);for(s=0;s<r.length;s++)n=r[s],a.indexOf(n)>=0||(t[n]=e[n]);return t}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)n=r[s],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}var o=s.createContext({}),i=function(e){var a=s.useContext(o),n=a;return e&&(n="function"==typeof e?e(a):l(l({},a),e)),n},y=function(e){var a=i(e.components);return s.createElement(o.Provider,{value:a},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var a=e.children;return s.createElement(s.Fragment,{},a)}},m=s.forwardRef((function(e,a){var n=e.components,t=e.mdxType,r=e.originalType,o=e.parentName,y=p(e,["components","mdxType","originalType","parentName"]),c=i(n),m=t,N=c["".concat(o,".").concat(m)]||c[m]||d[m]||r;return n?s.createElement(N,l(l({ref:a},y),{},{components:n})):s.createElement(N,l({ref:a},y))}));function N(e,a){var n=arguments,t=a&&a.mdxType;if("string"==typeof e||t){var r=n.length,l=new Array(r);l[0]=m;var p={};for(var o in a)hasOwnProperty.call(a,o)&&(p[o]=a[o]);p.originalType=e,p[c]="string"==typeof e?e:t,l[1]=p;for(var i=2;i<r;i++)l[i]=n[i];return s.createElement.apply(null,l)}return s.createElement.apply(null,n)}m.displayName="MDXCreateElement"},4720:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>p,toc:()=>i});var s=n(8168),t=(n(6540),n(5680));const r={sidebar_position:9,title:"Configuration"},l=void 0,p={unversionedId:"Reference/config",id:"Reference/config",title:"Configuration",description:"Configuration is provided by Cosmiconfig, so lage configuration is very flexible! We recommend the use of a lage.config.js because it is both concise and flexible.",source:"@site/docs/Reference/config.md",sourceDirName:"Reference",slug:"/Reference/config",permalink:"/lage/docs/Reference/config",draft:!1,editUrl:"https://github.com/microsoft/lage/edit/master/docs/docs/Reference/config.md",tags:[],version:"current",sidebarPosition:9,frontMatter:{sidebar_position:9,title:"Configuration"},sidebar:"defaultSidebar",previous:{title:"Command Line Options",permalink:"/lage/docs/Reference/cli"},next:{title:"Lage Packages",permalink:"/lage/docs/Contributing/packages"}},o={},i=[{value:"A Complete Tour of the Config",id:"a-complete-tour-of-the-config",level:3}],y={toc:i},c="wrapper";function d(e){let{components:a,...n}=e;return(0,t.yg)(c,(0,s.A)({},y,n,{components:a,mdxType:"MDXLayout"}),(0,t.yg)("p",null,"Configuration is provided by ",(0,t.yg)("a",{parentName:"p",href:"https://www.npmjs.com/package/cosmiconfig"},"Cosmiconfig"),", so ",(0,t.yg)("inlineCode",{parentName:"p"},"lage")," configuration is very flexible! We recommend the use of a ",(0,t.yg)("inlineCode",{parentName:"p"},"lage.config.js")," because it is both concise and flexible."),(0,t.yg)("p",null,"Create a ",(0,t.yg)("inlineCode",{parentName:"p"},"lage.config.js")," file at the workspace root and place all your configurations there:"),(0,t.yg)("div",{className:"shiki-twoslash-fragment"},(0,t.yg)("pre",{parentName:"div",className:"shiki light-plus with-title",style:{backgroundColor:"#FFFFFF",color:"#000000"},title:"/lage.config.js"},(0,t.yg)("div",{parentName:"pre",className:"code-title"},"/lage.config.js"),(0,t.yg)("div",{parentName:"pre",className:"language-id"},"js"),(0,t.yg)("div",{parentName:"pre",className:"code-container"},(0,t.yg)("code",{parentName:"div"},(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#267F99"}},"module"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"."),(0,t.yg)("span",{parentName:"div",style:{color:"#267F99"}},"exports"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," = {")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"  "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},"pipeline:"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," {")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},"build:"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," ["),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},'"^build"'),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"],")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},"test:"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," ["),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},'"build"'),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"]")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"  }")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"};"))))),(0,t.yg)("pre",{parentName:"div",className:"shiki nord with-title",style:{backgroundColor:"#2e3440ff",color:"#d8dee9ff"},title:"/lage.config.js"},(0,t.yg)("div",{parentName:"pre",className:"code-title"},"/lage.config.js"),(0,t.yg)("div",{parentName:"pre",className:"language-id"},"js"),(0,t.yg)("div",{parentName:"pre",className:"code-container"},(0,t.yg)("code",{parentName:"div"},(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#8FBCBB"}},"module"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"."),(0,t.yg)("span",{parentName:"div",style:{color:"#8FBCBB"}},"exports"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#81A1C1"}},"="),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"{")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"  "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},"pipeline"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"{")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},"build"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," ["),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"^build"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"]"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},"test"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," ["),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"build"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"]")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"  "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"}")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"}"),(0,t.yg)("span",{parentName:"div",style:{color:"#81A1C1"}},";")))))),(0,t.yg)("h3",{id:"a-complete-tour-of-the-config"},"A Complete Tour of the Config"),(0,t.yg)("admonition",{type:"tip"},(0,t.yg)("p",{parentName:"admonition"},"Roll over the various properties to tour the different configs")),(0,t.yg)("div",{className:"shiki-twoslash-fragment"},(0,t.yg)("pre",{parentName:"div",className:"shiki light-plus with-title twoslash lsp",style:{backgroundColor:"#FFFFFF",color:"#000000"},title:"/lage.config.js"},(0,t.yg)("div",{parentName:"pre",className:"code-title"},"/lage.config.js"),(0,t.yg)("div",{parentName:"pre",className:"language-id"},"js"),(0,t.yg)("div",{parentName:"pre",className:"code-container"},(0,t.yg)("code",{parentName:"div"},(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#267F99"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"module export=\n(property) export=: any"},"module")),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"."),(0,t.yg)("span",{parentName:"div",style:{color:"#267F99"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"module export=\n(property) export=: any"},"exports")),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," = {")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"  "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:'(property) pipeline: {\n    babel: {\n        inputs: string[];\n        outputs: string[];\n        type: string;\n        options: {\n            script: string;\n            taskArgs: string[];\n            nodeOptions: string[];\n        };\n    };\n    build: string[];\n    test: {\n        outputs: never[];\n        dependsOn: string[];\n    };\n    lint: {\n        type: string;\n        options: {\n            ...;\n        };\n    };\n    "build-recursive": {\n        ...;\n    };\n    start: {\n        ...;\n    };\n    "specific-package-a#test": string[];\n}'},"pipeline"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," {")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) babel: {\n    inputs: string[];\n    outputs: string[];\n    type: string;\n    options: {\n        script: string;\n        taskArgs: string[];\n        nodeOptions: string[];\n    };\n}"},"babel"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," {")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * Specify which input files are used to generate the output files.  These")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * are included in the cache hash to determine whether the result can be")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * fetched from the cache instead of running the build, so it is important")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * that the list is complete and as precise as possible.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * This uses 'micromatch' package to check the patterns against the files")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * found on disk. Refer that package's documentation for the full syntax supported:")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * https://github.com/micromatch/micromatch#readme")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * Path patterns are applied to the list of files found inside the package")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * the task would run in.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * If a path pattern is prefixed with '^' then files in packages the given")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * package depends on which match the pattern will also be considered an input.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * Relative paths (with './' or '../' prefix) and absolute paths are not supported")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * for inputs and will be ignored if provided as they will not match anything.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) inputs: string[]"},"inputs"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," ["),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},"'src/**/*.{js,jsx,ts,tsx}'"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"],")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * Specify which files are expected to be produced.  These are the files that")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * will be stored in the cache and reproduced in case of a cache hit.  It is")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * important that this list be as complete and precise as possible so that")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * if results are returned from the cache there is nothing missing, that there")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * are not irrelevant extra files in the cache, and outputs from two different")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * tasks do not conflict.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       *")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},'       * The provided values are passed to the "globby" package, using the package directory')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * as the working directory, to identify the files to hash and cache.  Refer to its")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * documentation for details:")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       *")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * https://github.com/sindresorhus/globby#readme")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) outputs: string[]"},"outputs"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," ["),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},"'dist/*.js'"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},", "),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},"'dist/*.js.map'"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"],")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},'       * For npm script, you can optionally set type: "npmScript" to explicitly indicate')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},'       * this would run a script from package.json in "scripts".')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},'       * By default type is set to "npmScript" if the task name matches an npm script')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},'       * in ANY package, otherwise it is set to "noop".')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * Note that if you run lage with additional options after the task name(s) those")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * arguments are passed through to the scripts that are run.  For example")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},'       * "lage run build -- -e node" would pass "-e node" to the command for every script.')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) type: string"},"type"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},'"npmScript"'),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * For npm scripts there are some options available")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) options: {\n    script: string;\n    taskArgs: string[];\n    nodeOptions: string[];\n}"},"options"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," {")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"         * Actual npm script that will be run.  Defaults to the same as the task name")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"         * (excluding the package name if the task was defined for a specific package)")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"         */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) script: string"},"script"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},'"babel"'),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"         * Additional arguments passed to the script when it is run.  Empty by default.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"         * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"         * These are added AFTER any arguments propagated from the lage command line. ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"         */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) taskArgs: string[]"},"taskArgs"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," ["),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},'"--env-name"'),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},", "),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},'"node"'),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"],")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"         * Set the NODE_OPTIONS for running the task.  Empty by default.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"         */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) nodeOptions: string[]"},"nodeOptions"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," ["),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},'"--max-old-space-size"'),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},", "),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},'"6000"'),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"]")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      }")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    },")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) build: string[]"},"build"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," ["),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},'"^build"'),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"],")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) test: {\n    outputs: never[];\n    dependsOn: string[];\n}"},"test"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," {")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) outputs: never[]"},"outputs"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," [],")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) dependsOn: string[]"},"dependsOn"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," ["),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},'"build"'),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"]")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    },")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"// Example worker task")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) lint: {\n    type: string;\n    options: {\n        maxWorkers: number;\n        worker: string;\n    };\n}"},"lint"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," {")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},'       * When you set type: "worker" it creates a worker pool where')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * the tasks are run by a worker script you provide instead of")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * running the npm script.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * Because the worker retains state and loaded modules between")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * tasks, it can cache modules, config, and other things in")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * memory between tasks, reducing the per-task startup time.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * The underlying implementation is workerpool:")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * https://www.npmjs.com/package/workerpool")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},'       * The main worker function (exported as either "run" or as the')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * default export) is passed an object with these fields to run")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * a task:")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * - target: Information about the target, including:")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},'       * - target.id: Unique ID of the target (e.g. "pkg-a#build")')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * - target.label: A display label of the target")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * - target.cwd: Working directory of the target - full path")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},'       * - target.task: Name of the task for the target (e.g. "build", "test", "lint")')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * - target.packageName: Package name of the target. Undefined if this target is associated with repo root.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * - target.options: Same options provided here, can be used to provide some additional")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       *   options to your worker if you use the same worker in multiple tasks")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * - weight: Specified/calculated weight of the target from the task config,")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       *   this can be used to calculate parallelism or resource usage in the worker")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * - taskArgs: Command line arguments provided to lage and taskArgs")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * - abortSignal: Object used to signal that the task should exit ASAP")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * - abortSignal.aborted: If true, the worker should stop working")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * - abortSignal.addEventListener('abort', cb): Provide a callback that will be")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       *   invoked if the build is aborted")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       *   ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},'       * The worker can also export "shouldRun", an async function that returns a boolean')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * indicating whether the task is applicable for a given workspace.  It is provided")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * with the target as its argument. ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) type: string"},"type"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},'"worker"'),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) options: {\n    maxWorkers: number;\n    worker: string;\n}"},"options"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," {")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"/** Limit the number of concurrent workers running tasks */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) maxWorkers: number"},"maxWorkers"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#098658"}},"4"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"/** Path to the script that implements the worker */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) worker: string"},"worker"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},'"path/to/scripts/worker/lint.js"')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      },")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    },")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"// Abstract task to requires a package and its dependencies are built")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},'"build-recursive"'),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," {")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},'       * If set type: "noop" then the task will not run; it will only cause')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * tasks that it depends on to run.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},'       * outputs are ignored for "noop" type tasks.')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},'       * Note that the task type will default to "noop" if no type is provided,')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * and there is no package.json in the monorepo with a matching entry")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},'       * in "scripts".')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) type: string"},"type"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},'"noop"'),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * Specify tasks that should run before this one is considered done.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) dependsOn: string[]"},"dependsOn"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," [")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"         * An unprefixed task references a task with that name in the same package.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"         */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},'"build"'),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"         * If a task has a prefix '^' then it refers to tasks by that name")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"         * in the direct dependencies of this package.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"         */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},'"^build"'),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"         * If a task has a prefix '^^' then it refers to tasks by that name")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"         * in the direct and indirect dependencies of this package.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"         */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},'"^^build"'),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"        ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"         * A task can have a prefix of a package name plus '#' to create a")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"         * dependency on a task just in a specific package.  This is useful")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"         * if the script runs a tool that is built in another package, for")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"         * example.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"         */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},'"some-package#build"'),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      ],")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * A shouldRun() function can be defined for any task to filter which")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * workspaces it applies to.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       *")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * For example this could be used to only run a task if there's an")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * appropriate config file present.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       *")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},'       * For a worker task, this is in addition to any "shouldRun" exported from the')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * worker script.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * For an npm script, this in addition to checking that the script is defined")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * in package.json for that package.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * This could also be just a boolean instead of a function if the calculation")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * can be statically determined (e.g. based on an environment variable).")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#795E26"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(method) shouldRun(target: any): boolean"},"shouldRun")),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"("),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(parameter) target: any"},"target")),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},") {")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},'// Only run this if package.json defines a "bin" field, indicating there')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"// is something to run in there")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#AF00DB"}},"return"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," !!"),(0,t.yg)("span",{parentName:"div",style:{color:"#795E26"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"var require: NodeRequire\n(id: string) => any"},"require")),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"("),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"any"},"path")),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"."),(0,t.yg)("span",{parentName:"div",style:{color:"#795E26"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"any"},"join")),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"("),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(parameter) target: any"},"target")),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"."),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"any"},"cwd")),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},", "),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},"'package.json'"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"))."),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"any"},"bin"))),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      }")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    },")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},'// Calls "start" in all the packages')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) start: {\n    cache: boolean;\n    dependsOn: never[];\n}"},"start"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," {")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * Set cache: false on any task whose results should not be cached")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) cache: boolean"},"cache"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#0000FF"}},"false"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       * An empty dependsOn array means the task can always run immediately.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"       */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) dependsOn: never[]"},"dependsOn"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," []")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    }, ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},'"specific-package-a#test"'),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," ["),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},'"specific-package-b#build"'),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"]")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"  },")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"  "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},'   * Specify whether to use "yarn" or "npm" to run scripts from package.json.  Defaults to "npm"')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"   */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"  "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) npmClient: string"},"npmClient"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},'"yarn"'),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"  "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) cacheOptions: {\n    cacheStorageConfig: {\n        provider: string;\n        options: {};\n    };\n    environmentGlob: string[];\n    cacheKey: string;\n    writeRemoteCache: any;\n    skipLocalCache: any;\n}"},"cacheOptions"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," {")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"/** "),(0,t.yg)("span",{parentName:"div",style:{color:"#0000FF"}},"@see"),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},"https://github.com/microsoft/backfill#configuration"),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}}," */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) cacheStorageConfig: {\n    provider: string;\n    options: {};\n}"},"cacheStorageConfig"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," {")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},'// use this to specify a remote cache provider such as "azure-blob",')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) provider: string"},"provider"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},'"azure-blob"'),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"// there are specific options here for each cache provider")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) options: {}"},"options"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," {}")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    },")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"     * Any of these files changed would invalidate the cache.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"     *")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"     * NOTE: lockfiles are NOT necessary here. lage already takes external")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"     * dependency versions into account.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"     */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) environmentGlob: string[]"},"environmentGlob"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," ["),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},'".github/**"'),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},", "),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},'".azure-devops/**"'),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"],")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"     * Useful for when caches need to be versioned.  Can potentially include the")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"     * values of any environment variables in here that should trigger a rebuild.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"     */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) cacheKey: string"},"cacheKey"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},'"v1"'),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"     * Manually set this to true so that remote caches are pushed - useful in")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"     * CI systems that do *not* use standard environment variables to indicate")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"     * a CI run.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"     */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) writeRemoteCache: any"},"writeRemoteCache"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"any"},"boolean")),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"     * Skips writes to local cache - also useful in CI (defaults to true when")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"     * CI systems are detected)")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"     */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) skipLocalCache: any"},"skipLocalCache"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"any"},"boolean"))),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"  },")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"  "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"   * affects the --since flag: ignore changes in these paths, so they do not")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"   * count as changes between refs")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"   */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"  "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) ignore: string[]"},"ignore"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," ["),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},'"*.md"'),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"],")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"  "),(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"   * affects the --since flag: any changes in these paths mean that --since")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"   * flag is disabled; caching is not affected by this flag")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#008000"}},"   */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"  "),(0,t.yg)("span",{parentName:"div",style:{color:"#001080"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) repoWideChanges: string[]"},"repoWideChanges"),":"),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}}," ["),(0,t.yg)("span",{parentName:"div",style:{color:"#A31515"}},'"yarn.lock"'),(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"]")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#000000"}},"};"))))),(0,t.yg)("pre",{parentName:"div",className:"shiki nord with-title twoslash lsp",style:{backgroundColor:"#2e3440ff",color:"#d8dee9ff"},title:"/lage.config.js"},(0,t.yg)("div",{parentName:"pre",className:"code-title"},"/lage.config.js"),(0,t.yg)("div",{parentName:"pre",className:"language-id"},"js"),(0,t.yg)("div",{parentName:"pre",className:"code-container"},(0,t.yg)("code",{parentName:"div"},(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#8FBCBB"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"module export=\n(property) export=: any"},"module")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"."),(0,t.yg)("span",{parentName:"div",style:{color:"#8FBCBB"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"module export=\n(property) export=: any"},"exports")),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#81A1C1"}},"="),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"{")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"  "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:'(property) pipeline: {\n    babel: {\n        inputs: string[];\n        outputs: string[];\n        type: string;\n        options: {\n            script: string;\n            taskArgs: string[];\n            nodeOptions: string[];\n        };\n    };\n    build: string[];\n    test: {\n        outputs: never[];\n        dependsOn: string[];\n    };\n    lint: {\n        type: string;\n        options: {\n            ...;\n        };\n    };\n    "build-recursive": {\n        ...;\n    };\n    start: {\n        ...;\n    };\n    "specific-package-a#test": string[];\n}'},"pipeline")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"{")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) babel: {\n    inputs: string[];\n    outputs: string[];\n    type: string;\n    options: {\n        script: string;\n        taskArgs: string[];\n        nodeOptions: string[];\n    };\n}"},"babel")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"{")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * Specify which input files are used to generate the output files.  These")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * are included in the cache hash to determine whether the result can be")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * fetched from the cache instead of running the build, so it is important")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * that the list is complete and as precise as possible.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * This uses 'micromatch' package to check the patterns against the files")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * found on disk. Refer that package's documentation for the full syntax supported:")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * https://github.com/micromatch/micromatch#readme")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * Path patterns are applied to the list of files found inside the package")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * the task would run in.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * If a path pattern is prefixed with '^' then files in packages the given")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * package depends on which match the pattern will also be considered an input.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * Relative paths (with './' or '../' prefix) and absolute paths are not supported")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * for inputs and will be ignored if provided as they will not match anything.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) inputs: string[]"},"inputs")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," ["),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"'"),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"src/**/*.{js,jsx,ts,tsx}"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"'"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"]"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * Specify which files are expected to be produced.  These are the files that")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * will be stored in the cache and reproduced in case of a cache hit.  It is")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * important that this list be as complete and precise as possible so that")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * if results are returned from the cache there is nothing missing, that there")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * are not irrelevant extra files in the cache, and outputs from two different")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * tasks do not conflict.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       *")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},'       * The provided values are passed to the "globby" package, using the package directory')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * as the working directory, to identify the files to hash and cache.  Refer to its")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * documentation for details:")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       *")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * https://github.com/sindresorhus/globby#readme")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) outputs: string[]"},"outputs")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," ["),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"'"),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"dist/*.js"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"'"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},","),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"'"),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"dist/*.js.map"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"'"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"]"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},'       * For npm script, you can optionally set type: "npmScript" to explicitly indicate')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},'       * this would run a script from package.json in "scripts".')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},'       * By default type is set to "npmScript" if the task name matches an npm script')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},'       * in ANY package, otherwise it is set to "noop".')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * Note that if you run lage with additional options after the task name(s) those")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * arguments are passed through to the scripts that are run.  For example")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},'       * "lage run build -- -e node" would pass "-e node" to the command for every script.')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) type: string"},"type")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"npmScript"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * For npm scripts there are some options available")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) options: {\n    script: string;\n    taskArgs: string[];\n    nodeOptions: string[];\n}"},"options")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"{")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"         * Actual npm script that will be run.  Defaults to the same as the task name")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"         * (excluding the package name if the task was defined for a specific package)")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"         */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) script: string"},"script")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"babel"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"         * Additional arguments passed to the script when it is run.  Empty by default.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"         * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"         * These are added AFTER any arguments propagated from the lage command line. ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"         */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) taskArgs: string[]"},"taskArgs")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," ["),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"--env-name"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},","),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"node"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"]"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"         * Set the NODE_OPTIONS for running the task.  Empty by default.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"         */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) nodeOptions: string[]"},"nodeOptions")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," ["),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"--max-old-space-size"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},","),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"6000"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"]")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"}")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"},")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) build: string[]"},"build")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," ["),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"^build"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"]"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) test: {\n    outputs: never[];\n    dependsOn: string[];\n}"},"test")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"{")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) outputs: never[]"},"outputs")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," []"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) dependsOn: string[]"},"dependsOn")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," ["),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"build"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"]")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"},")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"// Example worker task")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) lint: {\n    type: string;\n    options: {\n        maxWorkers: number;\n        worker: string;\n    };\n}"},"lint")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"{")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},'       * When you set type: "worker" it creates a worker pool where')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * the tasks are run by a worker script you provide instead of")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * running the npm script.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * Because the worker retains state and loaded modules between")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * tasks, it can cache modules, config, and other things in")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * memory between tasks, reducing the per-task startup time.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * The underlying implementation is workerpool:")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * https://www.npmjs.com/package/workerpool")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},'       * The main worker function (exported as either "run" or as the')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * default export) is passed an object with these fields to run")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * a task:")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * - target: Information about the target, including:")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},'       * - target.id: Unique ID of the target (e.g. "pkg-a#build")')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * - target.label: A display label of the target")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * - target.cwd: Working directory of the target - full path")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},'       * - target.task: Name of the task for the target (e.g. "build", "test", "lint")')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * - target.packageName: Package name of the target. Undefined if this target is associated with repo root.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * - target.options: Same options provided here, can be used to provide some additional")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       *   options to your worker if you use the same worker in multiple tasks")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * - weight: Specified/calculated weight of the target from the task config,")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       *   this can be used to calculate parallelism or resource usage in the worker")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * - taskArgs: Command line arguments provided to lage and taskArgs")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * - abortSignal: Object used to signal that the task should exit ASAP")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * - abortSignal.aborted: If true, the worker should stop working")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * - abortSignal.addEventListener('abort', cb): Provide a callback that will be")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       *   invoked if the build is aborted")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       *   ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},'       * The worker can also export "shouldRun", an async function that returns a boolean')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * indicating whether the task is applicable for a given workspace.  It is provided")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * with the target as its argument. ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) type: string"},"type")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"worker"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) options: {\n    maxWorkers: number;\n    worker: string;\n}"},"options")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"{")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/** Limit the number of concurrent workers running tasks */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) maxWorkers: number"},"maxWorkers")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#B48EAD"}},"4"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/** Path to the script that implements the worker */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) worker: string"},"worker")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"path/to/scripts/worker/lint.js"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"},")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"},")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"// Abstract task to requires a package and its dependencies are built")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"build-recursive"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"{")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},'       * If set type: "noop" then the task will not run; it will only cause')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * tasks that it depends on to run.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},'       * outputs are ignored for "noop" type tasks.')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},'       * Note that the task type will default to "noop" if no type is provided,')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * and there is no package.json in the monorepo with a matching entry")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},'       * in "scripts".')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) type: string"},"type")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"noop"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * Specify tasks that should run before this one is considered done.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) dependsOn: string[]"},"dependsOn")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," [")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"         * An unprefixed task references a task with that name in the same package.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"         */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"build"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"         * If a task has a prefix '^' then it refers to tasks by that name")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"         * in the direct dependencies of this package.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"         */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"^build"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"         * If a task has a prefix '^^' then it refers to tasks by that name")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"         * in the direct and indirect dependencies of this package.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"         */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"^^build"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"        ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"         * A task can have a prefix of a package name plus '#' to create a")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"         * dependency on a task just in a specific package.  This is useful")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"         * if the script runs a tool that is built in another package, for")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"         * example.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"         */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"some-package#build"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      ]"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * A shouldRun() function can be defined for any task to filter which")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * workspaces it applies to.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       *")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * For example this could be used to only run a task if there's an")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * appropriate config file present.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       *")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},'       * For a worker task, this is in addition to any "shouldRun" exported from the')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * worker script.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * For an npm script, this in addition to checking that the script is defined")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * in package.json for that package.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * This could also be just a boolean instead of a function if the calculation")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * can be statically determined (e.g. based on an environment variable).")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(method) shouldRun(target: any): boolean"},"shouldRun")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"("),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(parameter) target: any"},"target")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},")"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"{")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},'// Only run this if package.json defines a "bin" field, indicating there')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"// is something to run in there")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"        "),(0,t.yg)("span",{parentName:"div",style:{color:"#81A1C1"}},"return"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#81A1C1"}},"!!"),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"var require: NodeRequire\n(id: string) => any"},"require")),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"("),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"any"},"path")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"."),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"any"},"join")),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"("),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(parameter) target: any"},"target")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"."),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"any"},"cwd")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},","),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"'"),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"package.json"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"'"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"))"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"."),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"any"},"bin"))),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"}")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"},")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},'// Calls "start" in all the packages')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) start: {\n    cache: boolean;\n    dependsOn: never[];\n}"},"start")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"{")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * Set cache: false on any task whose results should not be cached")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) cache: boolean"},"cache")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#81A1C1"}},"false"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       * An empty dependsOn array means the task can always run immediately.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"       */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) dependsOn: never[]"},"dependsOn")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," []")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"},"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," ")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"specific-package-a#test"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," ["),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"specific-package-b#build"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"]")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"  "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"},")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"  "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},'   * Specify whether to use "yarn" or "npm" to run scripts from package.json.  Defaults to "npm"')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"   */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"  "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) npmClient: string"},"npmClient")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"yarn"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"  "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) cacheOptions: {\n    cacheStorageConfig: {\n        provider: string;\n        options: {};\n    };\n    environmentGlob: string[];\n    cacheKey: string;\n    writeRemoteCache: any;\n    skipLocalCache: any;\n}"},"cacheOptions")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"{")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/** "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"@"),(0,t.yg)("span",{parentName:"div",style:{color:"#8FBCBB"}},"see"),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9"}},"https://github.com/microsoft/backfill#configuration"),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}}," */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) cacheStorageConfig: {\n    provider: string;\n    options: {};\n}"},"cacheStorageConfig")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"{")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},'// use this to specify a remote cache provider such as "azure-blob",')),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) provider: string"},"provider")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"azure-blob"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"// there are specific options here for each cache provider")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"      "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) options: {}"},"options")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"{}")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"},")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"     * Any of these files changed would invalidate the cache.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"     *")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"     * NOTE: lockfiles are NOT necessary here. lage already takes external")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"     * dependency versions into account.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"     */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) environmentGlob: string[]"},"environmentGlob")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," ["),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},".github/**"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},","),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},".azure-devops/**"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"]"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"     * Useful for when caches need to be versioned.  Can potentially include the")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"     * values of any environment variables in here that should trigger a rebuild.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"     */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) cacheKey: string"},"cacheKey")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"v1"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"     * Manually set this to true so that remote caches are pushed - useful in")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"     * CI systems that do *not* use standard environment variables to indicate")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"     * a CI run.")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"     */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) writeRemoteCache: any"},"writeRemoteCache")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"any"},"boolean")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"     * Skips writes to local cache - also useful in CI (defaults to true when")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"     * CI systems are detected)")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"     */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"    "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) skipLocalCache: any"},"skipLocalCache")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," "),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"any"},"boolean"))),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"  "),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"},")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"  "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"   * affects the --since flag: ignore changes in these paths, so they do not")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"   * count as changes between refs")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"   */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"  "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) ignore: string[]"},"ignore")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," ["),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"*.md"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"]"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},",")),(0,t.yg)("div",{parentName:"code",className:"line"},"\xa0"),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"  "),(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"/**")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"   * affects the --since flag: any changes in these paths mean that --since")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"   * flag is disabled; caching is not affected by this flag")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#616E88"}},"   */")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"  "),(0,t.yg)("span",{parentName:"div",style:{color:"#88C0D0"}},(0,t.yg)("data-lsp",{parentName:"span",lsp:"(property) repoWideChanges: string[]"},"repoWideChanges")),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},":"),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}}," ["),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#A3BE8C"}},"yarn.lock"),(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},'"'),(0,t.yg)("span",{parentName:"div",style:{color:"#D8DEE9FF"}},"]")),(0,t.yg)("div",{parentName:"code",className:"line"},(0,t.yg)("span",{parentName:"div",style:{color:"#ECEFF4"}},"}"),(0,t.yg)("span",{parentName:"div",style:{color:"#81A1C1"}},";")))))))}d.isMDXComponent=!0}}]);